<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>数据分析 | Qiyuan's Blog</title><meta name="keywords" content="数据分析，power bi，excel"><meta name="author" content="Qiyuan-yin"><meta name="copyright" content="Qiyuan-yin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="大三上学期自学数据分析，涉及tableau，power bi，excel，python，统计学等知识，以及一些使用学习案例，制作报表案例，以及在业务中比较常用的分析方法。">
<meta property="og:type" content="article">
<meta property="og:title" content="数据分析">
<meta property="og:url" content="http://example.com/2022/01/04/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/index.html">
<meta property="og:site_name" content="Qiyuan&#39;s Blog">
<meta property="og:description" content="大三上学期自学数据分析，涉及tableau，power bi，excel，python，统计学等知识，以及一些使用学习案例，制作报表案例，以及在业务中比较常用的分析方法。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/4.jpg">
<meta property="article:published_time" content="2022-01-04T07:39:20.429Z">
<meta property="article:modified_time" content="2022-01-04T07:54:17.143Z">
<meta property="article:author" content="Qiyuan-yin">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/4.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/01/04/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '数据分析',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-01-04 15:54:17'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/3.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a></div></div></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/4.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Qiyuan's Blog</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">数据分析</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-01-04T07:39:20.429Z" title="发表于 2022-01-04 15:39:20">2022-01-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-01-04T07:54:17.143Z" title="更新于 2022-01-04 15:54:17">2022-01-04</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="数据分析"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="数据分析（戴师兄）"><a href="#数据分析（戴师兄）" class="headerlink" title="数据分析（戴师兄）"></a>数据分析（戴师兄）</h1><h4 id="产品拆解方法"><a href="#产品拆解方法" class="headerlink" title="产品拆解方法"></a>产品拆解方法</h4><p>MECE原则：1.相互独立:无重复(独立性) 2.完全穷尽:无遗漏(完整性)</p>
<p>1.二分法：A、非A </p>
<p>2.矩阵法（象限拆解法）：一般根据两个要素（可以使用多个要素）划分  eg：事情根据重要程度和紧急程度划分</p>
<p>3.公式法：所谓公式法就是针对某个指标，用公式层层分解该指标的影响因素。</p>
<p>4.杜邦分析法：利用几种主要的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%B4%A2%E5%8A%A1%E6%AF%94%E7%8E%87/6654629">财务比率</a>之间的关系来综合地分析企业的财务状况。</p>
<p>5.AARRR：一个应用的生命周期（用户获取，用户激活，用户留存，用户收益，推荐传播）</p>
<p>6.PEST：PEST分析是指宏观环境的分析，P是政治(politics)，E是经济(economy)，S是社会(society)，T是技术(technology)。在分析一个企业集团所处的背景的时候，通常是通过这四个因素来分析企业集团所面临的状况。</p>
<p>7.RFM：RFM模型是衡量客户价值和客户创利能力的重要工具和手段。最近一次消费 (Recency)，消费频率 (Frequency)，消费金额 (Monetary)</p>
<p>8.SWOT分析法：S （strengths）是优势、W （weaknesses）是劣势、O （opportunities）是机会、T （threats）是威胁。企业内部分析，以及对于企业和竞争对手之间的分析。</p>
<p>9.5W1H（WWWWWH）分析法也叫六何分析法，是一种思考方法，也可以说是一种<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%88%9B%E9%80%A0%E6%8A%80%E6%B3%95">创造技法</a>。在<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E4%BC%81%E4%B8%9A%E7%AE%A1%E7%90%86/5585">企业管理</a>、日常工作生活和学习中得到广泛的应用。</p>
<h2 id="excel篇"><a href="#excel篇" class="headerlink" title="excel篇"></a>excel篇</h2><p>sumifs函数（计算数据，条件，条件，条件。。。）</p>
<p>大于等于和小于等于在条件中要加单引号，连接大于等于和变量之间要用 连接。</p>
<h4 id="环比和同比"><a href="#环比和同比" class="headerlink" title="环比和同比"></a>环比和同比</h4><p>环比：最小字段前后比较之后-1    本期/上期-1</p>
<p>同比：强调字段前后比较之后-1  本期/同期-1</p>
<p>日期函数存疑</p>
<p>每个月的最后一天：月+1，日-1。即下个月的第一天的前一天</p>
<h4 id="subtotal函数"><a href="#subtotal函数" class="headerlink" title="subtotal函数"></a>subtotal函数</h4><p>subtotal（选择计算方式（求和或计数），计算区域），subtotal可以根据源数据筛选进行求和变化。</p>
<p>可以点击函数内部再点击函数可以输出帮助。</p>
<h4 id="if函数"><a href="#if函数" class="headerlink" title="if函数"></a>if函数</h4><p>if（条件，真，假）</p>
<h4 id="vlookup函数"><a href="#vlookup函数" class="headerlink" title="vlookup函数"></a>vlookup函数</h4><p>vlookup（查找值，查找区域，返回的列在第几列，匹配方式（一般使用精确匹配））查找区域内必须包含查找值与输出值，并且第一种查找变量必须在查找区域的第一列。</p>
<p>查找必须是完完全全相同，有偏差不行。</p>
<p>可以在查找值后面加   &amp;“*”    *可代替不定数量字符，？可代替英文输入法下的一个字符。？表示占位符。</p>
<p>聚合运算</p>
<p>vlookup函数同样可以对数据透视表数据进行匹配查找。引用区域要注意是否需要改变。</p>
<h4 id="！！！index和match函数（重点）"><a href="#！！！index和match函数（重点）" class="headerlink" title="！！！index和match函数（重点）"></a>！！！index和match函数（重点）</h4><p>match函数：选定行或列里找出查找项所在位置      形式：match（查找项，查找区域，匹配方式）</p>
<p>index函数：输出区域内确定位置的数据。               形式：index（区域，行号，列号）      注：行位置为0的话会输出整行，列位置为0的话会输出整行</p>
<h4 id="周报制作"><a href="#周报制作" class="headerlink" title="周报制作"></a>周报制作</h4><p>注意不是直接下拉，重点在于引用已知数据，这样才能产生相应的变化，一定要根据源数据进行引用。</p>
<p>数据》数据验证》选择序列，内容（注意用英文逗号隔开）</p>
<p>加入数据验证后使用sumif</p>
<p>时不仅仅验证时间，同样要验证数据验证内的平台。</p>
<p>开始》条件格式》格式样式》数据条》最小值最大值改成数字》</p>
<h2 id="Tableau篇"><a href="#Tableau篇" class="headerlink" title="Tableau篇"></a>Tableau篇</h2><p>tableau社区：tableau，public</p>
<p>Tableau：全世界数据可视化大神，都在基于tableau进行可视化创作</p>
<p>流派：艺术流，分析流，实战流，垃圾流。我们主要学习实战流。</p>
<p>实战流：为实际业务场景服务，追求数据的全面性和逻辑性。无时间美化 </p>
<p>1.可以将数据看板发到线上2.自动更新看板3.自由下载数据4.线上修改图标5.邮箱发送数据6.设置数据预警</p>
<p>支持亿级数据的链接分析，自由地对字段进行计算，拖拽可以轻松制作图表，数据可以聚合下钻，图表类型可以灵活转换，内置算法智能建模。数据分析</p>
<h2 id="学习资料"><a href="#学习资料" class="headerlink" title="学习资料"></a>学习资料</h2><p>python基础学习：<br>菜鸟教程：<a target="_blank" rel="noopener" href="https://www.runoob.com/">https://www.runoob.com/</a></p>
<p>廖雪峰的官网：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/">https://www.liaoxuefeng.com/</a></p>
<p>常用三方库官网：</p>
<p> Numpy官网：<a target="_blank" rel="noopener" href="https://numpy.org/">https://numpy.org/</a></p>
<p>Pandas官网：<a target="_blank" rel="noopener" href="https://pandas.pydata.org/">https://pandas.pydata.org/</a></p>
<p>Matplotlib官网：<a target="_blank" rel="noopener" href="https://matplotlib.org/">https://matplotlib.org/</a></p>
<p>Sklearn官网：<a target="_blank" rel="noopener" href="https://scikit-learn.org/stable/index.html">https://scikit-learn.org/stable/index.html</a></p>
<p>tensorflow官网：<a target="_blank" rel="noopener" href="https://tensorflow.google.cn/api_docs/python/tf/io/read_file?hl=en">https://tensorflow.google.cn/api_docs/python/tf/io/read_file?hl=en</a></p>
<p>问题搜索：<br>   CSDN专业开发者社区：<a target="_blank" rel="noopener" href="https://www.csdn.net/">https://www.csdn.net/</a></p>
<p>机器学习，深度学习数据获取资源：</p>
<p>和鲸社区：<a target="_blank" rel="noopener" href="https://www.kesci.com/">https://www.kesci.com/</a></p>
<p>Kaggle：  <a target="_blank" rel="noopener" href="https://www.kaggle.com/">https://www.kaggle.com/</a></p>
<p>uci：<a target="_blank" rel="noopener" href="http://archive.ics.uci.edu/ml/datasets.php">http://archive.ics.uci.edu/ml/datasets.php</a></p>
<p>都是免费的学习资源 作者：李小四是数据分析师 <a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv9177817?spm_id_from=333.999.0.0">https://www.bilibili.com/read/cv9177817?spm_id_from=333.999.0.0</a> 出处：bilibili</p>
<p>anaconda配置集合：pandas，numpy</p>
<h2 id="python部分"><a href="#python部分" class="headerlink" title="python部分"></a>python部分</h2><h4 id="多行语句"><a href="#多行语句" class="headerlink" title="多行语句"></a>多行语句</h4><p>逻辑行：python解释器需要执行的命令</p>
<p>物理行：程序员编写代码的行</p>
<p>隐式换行要加小括号，也可以使用</p>
<h4 id="list"><a href="#list" class="headerlink" title="list"></a>list</h4><p>list.count(obj)统计某个元素再列表中出现的次数</p>
<p>list.index()从列表中找出某个值第一个匹配项的索引位置</p>
<p>list.reverse()反向</p>
<p>list.sort()对列表排序</p>
<p>list.clear()清空列表</p>
<p>list.copy()复制列表</p>
<p>list.append()添加元素只添加最后一个参数</p>
<p>list.insert(索引，元素)</p>
<p>元素修改部分对应切片部分要更换时要使用数组</p>
<p>list01.remove()删除</p>
<p>list01.pop(索引)</p>
<p>del list[索引]删除索引处的值</p>
<h4 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h4><p>由一系列变量组成的不可变序列容器，但创建不可以进行增删改。</p>
<p>获取方式与列表一样，创建元组时，如果只有一个元素，那么必须啊要在这个元素后面加逗号，否则产生类型不是tuple类型。</p>
<h4 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h4><p>一系列键值对醉成的可变散列容器</p>
<p>里面的元素是由键值对构成的</p>
<h1 id="数据分析（主体）"><a href="#数据分析（主体）" class="headerlink" title="数据分析（主体）"></a>数据分析（主体）</h1><h2 id="excel篇-1"><a href="#excel篇-1" class="headerlink" title="excel篇"></a>excel篇</h2><h3 id="excel基础应用"><a href="#excel基础应用" class="headerlink" title="excel基础应用"></a>excel基础应用</h3><p>countif(range,criteria)计算某个区域中满足给定单元条件的单元格数目,参数range为单元格区域，参数criteria为判断条件</p>
<p>countifs(range1,criteria1,…)统计一组条件所指定的单元格数,range1：条件区域1。criteria1：条件1。range2：条件区域2。Criteria2：条件2。等等。。。（区域条件判断之间是且的关系）</p>
<p>累积数据：fn+f4可以直接锁定行列，累积数据过程要用到sum函数，要注意是锁定函数的位置。</p>
<table>
<thead>
<tr>
<th>语法：SUMIF(range,  criteria, [sum_range])。</th>
</tr>
</thead>
<tbody><tr>
<td>range：条件区域，criteria：条件。sum_range：求和区域。可以省略，当省略时，条件区域就是求和区域。</td>
</tr>
<tr>
<td>说明：单条件求和。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>语法：SUMIFS(sum_range,  criteria_range1, criteria1, [criteria_range2, criteria2], …)。</th>
</tr>
</thead>
<tbody><tr>
<td>sum_range：求和区域。criteria_range1：条件区域1。criteria1：条件1。criteria_range2：条件区域2。Criteria2：条件2。等等。。。</td>
</tr>
<tr>
<td>需要注意是，此处是多条件求和，至少为三个参数，当为3个参数时，就和单条件求和一样，后面的参数都是成对出现</td>
</tr>
<tr>
<td>说明：多条件求和</td>
</tr>
</tbody></table>
<p>考察条件判断有几个，一个条件选择sumif函数，多个条件选择sumifs</p>
<p>注意sumifs的条件函数中第一部分是求和区域，后面才是判定条件和条件范围，注意与sumif的区别。一般条件的形式都要在两个双引号里面。</p>
<p>条件格式：开始》条件格式》突出显示单元格》介于》</p>
<p>公式为基础的条件格式：要注意公式存在单元格的地址引用注意相对引用地址和绝对地址的使用。</p>
<p>开始》条件格式》新建格式规则》使用公式确定要设置的单元格》</p>
<p>mod（）是求余函数</p>
<p>=内容1&amp;内容2&amp;内容3……. 可以对多个格的内容进行连接</p>
<p>match函数是找出相应匹配项所在行数</p>
<p>index函数是提取数据所在行数据</p>
<p>时间类函数：</p>
<table>
<thead>
<tr>
<th>year</th>
<th>获取指定日期的年</th>
</tr>
</thead>
<tbody><tr>
<td>month</td>
<td>获取指定日期的月</td>
</tr>
<tr>
<td>day</td>
<td>获取指定日期的日</td>
</tr>
<tr>
<td>today</td>
<td>获取系统当前日期</td>
</tr>
<tr>
<td>now</td>
<td>获取系统当前日期和时间</td>
</tr>
<tr>
<td>date</td>
<td>返回标准日期格式的时间序列</td>
</tr>
<tr>
<td>eomonth</td>
<td>获取指定日期所在月（或前后月）的最后一天   （当前月）</td>
</tr>
<tr>
<td>weekday</td>
<td>获取指定日期的星期数</td>
</tr>
</tbody></table>
<p>项目排期表：要用到堆积条形图和条件格式突出显示</p>
<p>将星期数字转换成标准星期，自定义格式语法输入aaa</p>
<p>考勤汇总要使用到合并计算，合并计算中要确定引用位置。</p>
<h3 id="数据汇总分析及业务分析综合案例"><a href="#数据汇总分析及业务分析综合案例" class="headerlink" title="数据汇总分析及业务分析综合案例"></a>数据汇总分析及业务分析综合案例</h3><p>均比： 实际值与平均值之间的对比，用以描述实际值的好坏程度。</p>
<p>YTD（Year To Date）：从年初到当前日期为止的指定维度的汇总值 </p>
<p>QTD（Quarter To Date）：从季度初到当前日期为止的指定维度的汇总值</p>
<p> MTD（Month To Date）：从月初到当前日期为止的指定维度的汇总值</p>
<p>月同比：相对于前一年同月份</p>
<p>月环比：相对于前一个月的</p>
<p>定基比增长率：当期值与某一固定时期值比较，描述当期值的发展水平</p>
<p>均比： 实际值与平均值之间的对比，用以描述实际值的好坏程度。</p>
<p>状态迁移对比指标： 用以描述状态变化后与变化前数值的占比情况，点击率、转化率等都属于该类指标</p>
<p>出勤率（病假不计入出勤）：出勤天数÷规定的月工作日×100％ 加班强度比率：当月加班时数÷当月总工作时数×100％ 每日工资=月固定工资/21.75天 月基础工资=每日工资x当月有效工作天数x当月实际工作天数调整比例 当月应工作天数=当月自然日天数–当月休息日天数 当月有效工作天数=当月应工作天数–全无薪假期 当月实际工作天数调整比例=21.75天/当月应工作天数 平时加班费=月基础工资÷（21.75天<em>8小时）×1.5倍×平时加班时数 假日加班费=月基础工资÷（21.75天</em>8小时）×2倍×假日加班时数 直接生产人员工资比率=直接生产人员工资总额÷企业工资总额×100％</p>
<p>alt+等号快捷键可以快速实现求和运算。</p>
<h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><p>文件重命名：ctrl+Z</p>
<p>打开我的电脑：win+e</p>
<p>快速搜索文件：win+q</p>
<p>直接打开设置：win+i</p>
<p>显示桌面：win+d</p>
<p>快速实现页面转换：win+上下左右</p>
<p>关闭窗口：alt+f4（再按一次是关机）</p>
<p>产生表情符号：win+f4</p>
<p>改变输入法：先按住ctrl再用shift可以实现输入法的切换。win+空格也可以产生类似的效果</p>
<p>放大镜：win+加号（放大），win+减号（缩小）</p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211029182333326.png" alt="image-20211029182333326"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211029182431706.png" alt="image-20211029182431706"></p>
<p>快速求和：alt+加号</p>
<p>插入列：shift+拖拽列</p>
<p>强制换行：alt+回车</p>
<p>屏幕截屏：shift+win+s</p>
<h3 id="分析方法论"><a href="#分析方法论" class="headerlink" title="分析方法论"></a>分析方法论</h3><p>一、零碎需求-用数据使业务问题细节明朗化 （工具辅助，日常取数及业务问题发现）</p>
<p>二、业务建模-数据拓维 </p>
<p>三、提供周、月、季度、年整体分析报告 </p>
<h4 id="日常取数"><a href="#日常取数" class="headerlink" title="日常取数"></a>日常取数</h4><p>1.确认数据范围 2.确认分析维度 3.输出数据指标</p>
<h4 id="案例二"><a href="#案例二" class="headerlink" title="案例二"></a>案例二</h4><p>背景：品牌商提出查阅我方数据运营公司下各零售商城市维度下的年销售额情况，从而判断是否合作，或是选择哪个零 售商哪个地区合作</p>
<p>目标：希望解答在全国哪些地区，我方数据运营公司的渠道是具有代表性的/有重大意义的 </p>
<p>交付物形式：Excel</p>
<p>漏斗图：条形堆积图修改得到</p>
<h4 id="帕累托分析（二八法则）"><a href="#帕累托分析（二八法则）" class="headerlink" title="帕累托分析（二八法则）"></a>帕累托分析（二八法则）</h4><p>二八法则，即百分之八十的问题是百分之二十的原因造成的。在项目管理中主要用于找出核心问题。</p>
<p>柱状图和折线图结合，柱形图降序排列，折线图计算累计百分比，折线图起点是0，折线图比柱状图多一个。折线图的第二个点位于柱形图第一个柱子的最右 上角。</p>
<h4 id="经营分析案例"><a href="#经营分析案例" class="headerlink" title="经营分析案例"></a>经营分析案例</h4><p>价格先上升然后衰退，第一部分上升是由产品知名度上升，第二部分衰退是由于竞争者产生。</p>
<p>案例1：维度：商品类别，品牌；统计字段：各年销量，各年销售</p>
<h3 id="业务建模——数据拓维"><a href="#业务建模——数据拓维" class="headerlink" title="业务建模——数据拓维"></a>业务建模——数据拓维</h3><h4 id="RFM模型"><a href="#RFM模型" class="headerlink" title="RFM模型"></a>RFM模型</h4><p>RFM方法论：从数据中找到重要的维度，在维度中划分出几类，实现分类，分类标准可以是百分数，平均值，二八模型，也可以是企业内部的要求的数值作为分类指标。</p>
<p>方法核心是数据分类。</p>
<p>用户的关键行为：最近一次消费，消费频次，消费金额。</p>
<p>生命周期：用户与商品的接触的整个过程，在这整个过程中可以提取出用户的关键信息。</p>
<p>R:最近一次消费 ：基于当前时点，统计用户最近一 次消费时点和当前时点的时间差</p>
<p>F：消费频次： 指定时间区间内统计用户的购买次数</p>
<p>M：消费金额 :指定时间区间内统计用户的消费总金额</p>
<img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211031100358097.png" alt="image-20211031100358097" style="zoom: 50%;" />

<p>消费频次：买返，返点，年卡，优惠劵</p>
<p>用户回流：发短信，客户回访，优惠券，回归奖励，消息推送</p>
<p>刺激消费：捆绑消费，满额打折，满减活动</p>
<p>结合实际业务选取关键数据指标分析，不是千篇一律的最近一次消费时间、消费频次、 消费金额 </p>
<p>定义R值、F值、M值数据区间分隔时，发现明显断档数据可以通过散点图、透视表、占 比图等进行判断 </p>
<p>除了选取讲解的3个核心业务指标进行交叉分析，也可以同时分析4个、5个指标，或者只 需要分析2个指标 </p>
<p>对于划分阈值的计算，除了平均值，还有二八法则，对于更加复杂的业务，可以寻求程 序员或业务员协助确定。 </p>
<p>针对不同分层用户的运营策略的制定要结合实际，在制定了运营策略之后，结合公司现 有资源和手段开展具体的落地工作</p>
<h4 id="RFM练习"><a href="#RFM练习" class="headerlink" title="RFM练习"></a>RFM练习</h4><p>用户忠诚度模型</p>
<p>重点维度：消费频次，消费金额</p>
<p>使用箱型图</p>
<p>重要价值用户：此类用户最近刚到访平台，而且消费频次和消费金额都很高，是平台营收的主要来源，建议 保持现状并持续关注； </p>
<p>重要发展用户：此类用户最近刚到访平台，且消费金额高，但消费频次低，可通过提升到店频次将此类用户 转化为重要价值用户。建议观察此类用户购物篮的商品品类，参考品类复购周期，若已购买品类本身复购周 期长，则可通过组合销售将复购周期长的商品和复购周期短且日常必需的商品捆绑，引导用户到本平台增 加选购其他品类的商品，并转变为习惯，从而增加到店频次。平台缺少此类用户，可参考重要保持用户的运 营策略实现重要保持用户到重要发展用户的转变；</p>
<p> 重要保持用户：此类用户很久没有到访平台，但到店频次和消费金额都很高，建议通过通知提醒顾客喜爱的 商品有优惠活动使用户回流；</p>
<p> 重要挽留用户：此类用户很久没有到访平台，且到店频次低，但消费金额高，针对此类用户需要重点召回，建议通过会员日或定期不定品类的促销信息通知用户，提升用户粘性。平台缺少此类用户，可参考一般价值 用户的运营策略实现一般价值用户到重要挽留用户的转变； </p>
<p>一般价值用户：此类用户最近刚到访平台，且到店频次高，但消费金额低，说明用户对价格敏感，可通过促 销装、买二送一等形式刺激用户消费； </p>
<p>一般发展用户：此类用户最近刚到访平台，但到店频次和消费金额都很低，说明平台主要商品对用户没有吸 引力，建立提供此类用户之前的消费明细，挖掘用户喜好；</p>
<p> 一般保持用户：此类用户很久没有到访平台，且消费金额低，但到店频次高，说明用户即将转为流失用户， 建议捆绑用户经常购买的商品和日常所需的其他品类商品，引导用户消费品类的转变而实现召回;</p>
<p> 一般挽留用户：此类用户很久没有到访平台，到店频次低，消费金额低，在运营成本有限的情况下，可放弃 此类对此类用户的投入，但本平台大部分用户为一般挽留用户，说明用户对平台失去依赖，建议尽快建立用 户激励机制。</p>
<h3 id="分析报告"><a href="#分析报告" class="headerlink" title="分析报告"></a>分析报告</h3><p>考虑从总体指标入手，逐层分解总体指标</p>
<p>梳理行业内经常谈及的指标； </p>
<p>将指标拆解为另外两个指标的和或乘积（或同一指标不同维度），逐层下钻，直至无法分解；</p>
<p> 将指标按拆解思路排放成树状结构，增加同比或环比值，通过观察变化比率快速定位问题。</p>
<h4 id="树状分析方法论"><a href="#树状分析方法论" class="headerlink" title="树状分析方法论"></a>树状分析方法论</h4><p>商品分类：处级》课级》大类》中类》小类》商品名称</p>
<p>sku：指库存计数单位，评定一个商品的最小颗粒度，一个商品对应一个sku值</p>
<p>基准品类：购买物品所处的商品类别。、</p>
<p>选择性粘贴可以选择粘贴为图片链接，就会产生可移动的小图片</p>
<h4 id="报告撰写"><a href="#报告撰写" class="headerlink" title="报告撰写"></a>报告撰写</h4><p>销量分析kpi树》对比分析结果》阐述重点问题》总结分析结果</p>
<p>在进行与竞争对手的产品分析时，可以利用合理的爬虫技术爬取合法数据。</p>
<h2 id="数据库篇"><a href="#数据库篇" class="headerlink" title="数据库篇"></a>数据库篇</h2><p>表结构数据基础格式是字段，不是单元格，excel中的基础单元是单元格。</p>
<p>在进行表结构数据添加时，是对整个字段进行计算。直接生成一个新列，操作过程是在开始选项卡下的套用表格格式进行操作。</p>
<p>数据库是长期存储在计算机内，有组织的，统一管理相关数据的集合。</p>
<p>数据库管理系统是用于管理数据库的软件，对数据库进行统一的管理和控制，以确保数据库的完整性。</p>
<p>sql是一种结构化查询语言，他是国际标准化组织采纳的标准数据化语言</p>
<p>sql语言分类：数据定义语言：craete，alter，drop；数据操作系统：isert，update，delete；数据查询语言：select；数据控制语言：用于定义数据库访问权限和安全级别，grant</p>
<h4 id="数据定义语言"><a href="#数据定义语言" class="headerlink" title="数据定义语言"></a>数据定义语言</h4><p>数据库的增删改查</p>
<p>ctrl+回车，执行命令</p>
<p>一条语句结束后用分号来结尾，关键字之间要用逗号分隔，用缩进来增强可读性，sql对大小写不敏感，用#或–单行注释，用/**/表示多行注释。</p>
<p>使用use命令首先进入数据库。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">drop database test;</span><br><span class="line">--删除一个数据库</span><br></pre></td></tr></table></figure>

<p>创建数据表：create table 表名（字段）；</p>
<p>建表之前要先选择数据库：use 数据库名称；</p>
<p>建表时可以不指定约束条件，但是必须指定表名，字段名以及每个字段的数据类型，表面不能与sql的关键字相同，同一个数据库下字段名不能重复。</p>
<p>查看数据库所有表： show tables；</p>
<p>查看表结构：desc 表名;</p>
<p>删除数据表：drop table 表名；</p>
<p>数据类型：int, float,decimal(十进制小数型)，char（固定长度字符串型），verchar（可变长度字符串长度，必须声明字符串长度），text（长文本字符串），date，time，daytime，timestamp（时间戳，截至固定时间的秒数）</p>
<p>字符串类型和日期时间型数据都需要用引号括起来.</p>
<h4 id="数据库基本结构"><a href="#数据库基本结构" class="headerlink" title="数据库基本结构"></a>数据库基本结构</h4><p>数据库：组织，存储和管理相关数据的集合，同一个数据库管理系统中数据库名必须唯一。</p>
<p>表：由固定列数和固定行数构成的数据集，同一个数据库中表名唯一。</p>
<p>列：一个字段，同一个表中列名必须唯一。</p>
<p>行一条记录。</p>
<h4 id="约束条件"><a href="#约束条件" class="headerlink" title="约束条件"></a>约束条件</h4><p>primary key 主键约束  非空不重复。主键约束：非空不重复，唯一的标识表中的记录，例如身份证号，员工号等，每个人都有，非空，且没有重复值。多个字段可以使用联合主键 。</p>
<p>not null 非空约束 不能为空。</p>
<p>unique 唯一约束 不能重复。指定字段的取值不能重复。</p>
<p>auto_increment 自增字段  自动增长。指定字段的取值自动生成，默认从1开始，每增加一条记录，该字段取值加一，只运用于整数型。</p>
<p>default 默认约束   默认值  如果新插入一条记录没有为该字段赋值，系统会自动为这个字段赋值为默认约定设定的值</p>
<p>foreign key 外键约束 与主键相对应，与另一张表进行对照，避免不规范的操作，以确保数据存储的完整性。</p>
<p>外键约束代码：【constraint 外键约束名】foreign key （字段名）references &lt;主表&gt;（主表字段）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">create table table(</span><br><span class="line">deptno int primary key,</span><br><span class="line">dname varchar(10),</span><br><span class="line"> loc varchar(15)</span><br><span class="line">)</span><br><span class="line">create table employee(</span><br><span class="line">empid int primary key auto_increment,</span><br><span class="line">ename varchar(10) unique,</span><br><span class="line">job varchar(10) not null default &#x27;未知&#x27;,</span><br><span class="line">mgr int,</span><br><span class="line">hiredate date,</span><br><span class="line">sal float default 0,</span><br><span class="line">comm float,</span><br><span class="line">deptno int,</span><br><span class="line">foreign key(deptno) references dept(deptno)</span><br><span class="line">);</span><br><span class="line">desc employee;</span><br></pre></td></tr></table></figure>

<h4 id="修改数据表"><a href="#修改数据表" class="headerlink" title="修改数据表"></a>修改数据表</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#修改表名称</span><br><span class="line">alter table emop rename emp;</span><br><span class="line">#修改字段名,这个过程相当于重新定义一个字段，可以设置不同的数据类型和约束条件</span><br><span class="line">alter table emp change empid empno int  primary key auto_increment;</span><br><span class="line">#修改数据类型</span><br><span class="line">alter table emp modify sal decimal default 0;</span><br><span class="line">#添加新字段，可以调整他的添加位置。</span><br><span class="line">alter table emp add city varchar(20) first;</span><br><span class="line">#修改字段的排列位置，修改过程可以是表中第一列，也可能是表中某一个字段的后面。</span><br><span class="line">alter table emp modify deptno int first;</span><br><span class="line">alter table emp modify deptno int after job;</span><br><span class="line">#删除字段</span><br><span class="line">alter table 表名 drop 字段名；</span><br></pre></td></tr></table></figure>

<h4 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#插入数据，字段和数值要一一对应。当不知道其中某个需要输入的值时，可以输入null作为空值，但必须要输入空值。表名和字段名都可以写中文。</span><br><span class="line">insert into dept(deptno,dname,loc) values (10,&#x27;accouting&#x27;,&#x27;new york&#x27;),(20,&#x27;research&#x27;,&#x27;dallas&#x27;);</span><br><span class="line">#查询表</span><br><span class="line">select * from dept;</span><br><span class="line">#导入数据时没有输入字段时，要输入所有字段对应下的数值。</span><br><span class="line">insert into dept values (60,&#x27;sales&#x27;,&#x27;chicago&#x27;),(40,&#x27;operation&#x27;,&#x27;boston&#x27;);</span><br><span class="line">#批量导入数据</span><br><span class="line">load data infile &quot;C:\\ProgramData\\MySQL\\MySQL Server 8.0\\Uploads\\employee.csv&quot;</span><br><span class="line">into table emp </span><br><span class="line">fields terminated by&#x27;,&#x27;</span><br><span class="line">ignore 1 lines;</span><br><span class="line">#字段由逗号隔开，由于数据已经创建完毕，可以忽略第一行的字段。</span><br></pre></td></tr></table></figure>

<p>ctrl+h是查找相同项，可以进行修改。</p>
<h4 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#修改数据，where判断语句输出的结构没有布尔值，只能输出0和1.</span><br><span class="line">update emp set sal=sal+1000 where ename=&#x27;smith&#x27;;</span><br><span class="line">update emp set sal=sal+1000;#可能存在1175错误</span><br><span class="line">set sql_safe_updates=0;#这段代码可以解决上面的错误</span><br><span class="line">#清空数据</span><br><span class="line">delete from emp;#可以添加where条件，是逐条删除数据。</span><br><span class="line">truncate emp;#不能添加where条件，是直接建立一个新表</span><br></pre></td></tr></table></figure>

<h4 id="DQL语句"><a href="#DQL语句" class="headerlink" title="DQL语句"></a>DQL语句</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">#单表查询</span><br><span class="line">select * from emp;</span><br><span class="line">#查询单个数据表中的行数</span><br><span class="line">select count(*) from emp;</span><br><span class="line">#查找部分表中部分字段，查询出来的不是表，只是一个显示在内存中的临时结果集。不占存储空间。</span><br><span class="line">select ename,job,sal from emp;</span><br><span class="line">#在查询过程中设置别名,添加了一列</span><br><span class="line">select *,sal+1000 from emp;</span><br><span class="line">#这个是不正确的，第一部分在进行添加时只是产生在虚拟结果集中，并不在内存里。故不能用这种方式修改字段名。</span><br><span class="line">alter table emp change sal+1000 sals;</span><br><span class="line">#这种方式才是正确的，在添加字段的同时，修改一个别名。这个过程不会修改原表中的存储记录。</span><br><span class="line">select *,sal+1000 as sals from emp;</span><br><span class="line">#as关键字可以省略。</span><br><span class="line">select *,sal+1000  sals from emp;</span><br><span class="line">#练习：查询员工id，员工姓名，员工年薪，基本工资（12个月）</span><br><span class="line">select empid,ename,sal,sal*12 基本工资 from emp; </span><br><span class="line">#查询不重复的数据：查询emp中的部门。</span><br><span class="line">select distinct deptno from emp;</span><br><span class="line">#查询过程进行多个字段的去重</span><br><span class="line">select distinct deptno,job from emp;</span><br><span class="line">#条件查询</span><br><span class="line">#查询工作在2000和3000之间的员工的所有信息</span><br><span class="line">select * from emp where sal&gt;=2000 and sal&lt;=3000;</span><br><span class="line">select * from emp where sal between 2000 and 3000;</span><br><span class="line">#查询部门号为10或20工资低于2000的员工信息</span><br><span class="line">select * from emp where (deptno=10 or deptno=20) and sal&lt;2000;</span><br><span class="line">select * from emp where deptno in(10,20) and sal&lt;2000;</span><br><span class="line">#找出表中职位为salesman的员工信息：姓名，职位，部门号</span><br><span class="line">select ename,job,deptno from emp where job=&#x27;salesman&#x27;;</span><br><span class="line">#空值查询，空值与任何字段计算后都为空。强调：要判定是否为空值时要是有is null或者is not null。</span><br><span class="line">select * from emp where mgr is null;</span><br><span class="line">select * from emp where mgr is not null;</span><br><span class="line">#模糊查询   %匹配多个通配符，-匹配一个通配符。</span><br><span class="line">select * from emp where ename like &#x27;a%&#x27;;</span><br><span class="line">select * from emp where ename like &#x27;%a%&#x27;;</span><br><span class="line">select * from emp where ename not like &#x27;_a%&#x27;;</span><br><span class="line">#查询结果排序 order by语句  desc是降序排序，asc是升序排序。desc在表格前和在排序中的表示方法不同，一个是展现字段，一个是decend的缩写。</span><br><span class="line">select * from emp order by sal desc;</span><br><span class="line">select * from emp order by sal asc;</span><br><span class="line">select * from emp order by deptno asc,sal desc;#按照顺序排序</span><br><span class="line">#限制查询结果数量,limit后面接显示的是显示的行数，limit跟的数字必须是整数类型。初始行偏移量是0不是1</span><br><span class="line">select * from emp order by sal desc limit 5;</span><br><span class="line">#limit后面接两个数字时，第一个是偏移量，第二个是输出的行数。</span><br><span class="line">select * from emp order by sal desc limit 5,5;</span><br></pre></td></tr></table></figure>

<p>avg（），min（），max（），sum（），count（），这些聚合函数都是忽略表中空值的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#全表运算</span><br><span class="line">select count(*) 员工总数, max(sal) 最高工资, min(sal) 最低工资,avg(sal) 平均工资 from emp;</span><br></pre></td></tr></table></figure>

<p>维度：用来分组的分类字段，无需分类字段和有序分类字段。</p>
<p>度量：用来聚合运算的数值字段。（年龄，数量，金额）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#分组查询</span><br><span class="line">select deptno,avg(sal) 平均工资 from emp group by deptno;</span><br><span class="line">#就算填入了新的字段也只是显示分组后的第一条数据，其他数据不会显示</span><br><span class="line">select deptno,ename,avg(sal) 平均工资 from emp group by deptno;</span><br><span class="line">#可以对多字段进行分组，同时分组后仍然可以排序。</span><br><span class="line">select deptno,job,avg(sal) from emp group by deptno,job order by avg(sal);</span><br><span class="line">#最后一行代码是找出工作是clerk的在分别在各部门中的平均工资。</span><br><span class="line">select deptno,count(*) from emp group by deptno;</span><br><span class="line">select deptno,job,count(*) from emp group by deptno,job;</span><br><span class="line">select deptno,job,avg(sal)  from emp group by deptno,job having job=&#x27;clerk&#x27;;</span><br><span class="line">select deptno,job,avg(sal) from emp  where job=&#x27;clerk&#x27; group by deptno;#这个和上一行代码的结果是一样的</span><br><span class="line">#找出部门平均工资大于2000的部门。</span><br><span class="line">select deptno,avg(sal) from emp group by deptno having avg(sal)&gt;2000;</span><br></pre></td></tr></table></figure>

<p>where与having的区别： </p>
<p>where子句作用于表，having子句作用于组。</p>
<p> where条件查询的作用域是针对数据表进行筛选，而having条件查询则是对分组结果进行过滤。</p>
<p> where在分组和聚合计算之前筛选行，而having 在分组和聚合之后筛选分组的行，因此where子句不能包含聚合函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#多表查询</span><br><span class="line">#左连接是左表为主表。右连接时右表为主表。内连接是不能存在空值的，左右同时存在。全连接包含所有情况。左反连接是左表有，右表没有的。右反连接是右表有，左表没有的。</span><br><span class="line">select * from t1 inner join t2 on t1.key1=t2.key2;#省略inner也是内连接。</span><br><span class="line">select * from t1 left join t2 on t1.key1=t2.key2;</span><br><span class="line">select * from t1 right join t2 on t1.key1=t2.key2;</span><br><span class="line">#纵向合并：1、两张表必须拥有相同数量的字段2、两张表字段的顺序必须相同3、两张表对应字段的数据类型必须一致</span><br><span class="line">#union去重：select 字段1[,字段2,…] from 表名 union select 字段1[,字段2,…] from 表名;</span><br><span class="line">#union all不去重： select 字段1[,字段2,…] from 表名 union all select 字段1[,字段2,…] from 表名;</span><br><span class="line">select * from t1 union select * from t2;</span><br><span class="line">select * from t1 union all select * from t2;</span><br><span class="line">-- 出现在表a却不在表b的userid</span><br><span class="line">select * from a_user left join b_order on a_user.userid=b_order.userid where b_order.userid is null ;</span><br><span class="line"></span><br><span class="line">-- 每个userid的最新结束时间</span><br><span class="line">select userid,max(end_time) from b_order group by userid  ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 用户结束时间在3月份的userid及tel</span><br><span class="line">select userid,tel from a_user where userid=(select userid from b_order where month(b_order.end_time)=3);（子查询）</span><br><span class="line">select * from a_user left join b_order on a_user.userid=b_order.userid union select * from  a_user right join b_order on a_user.userid= b_order.userid;</span><br><span class="line">select b_order.userid,tel from  a_user right join b_order on a_user.userid= b_order.userid where month(b_order.end_time)=3;</span><br><span class="line">select t.userid,tel from (select * from b_order where month(end_time)=3) t left join a_user on t.userid=a_user.userid;（子查询方法）</span><br><span class="line">#笛卡尔积连接方法：两张表中的两个行数相乘及得得到的表格的行数=-9</span><br><span class="line">select * from a_user,b_order where a_user.userid=b_order.userid;</span><br><span class="line">#不等值连接</span><br><span class="line">#自连接</span><br><span class="line">select * from emp 员工表 left join emp 领导表 on 员工表.mgr=领导表.empid;</span><br><span class="line">#可以多重表连接，yyh同学你注意只有一个select只在已经连接的表后面进行左连接和右连接，或者其他连接方式，不是子查询关系，只是表连接方式。</span><br><span class="line">select 员工表.empid 员工编号,员工表.ename 员工姓名,dept.dname 部门名称  from emp 员工表 left join emp 领导表 on 员工表.mgr=领导表.empid left join dept on 员工表.deptno =dept.deptno where 员工表.hiredate&lt;领导表.hiredate;</span><br></pre></td></tr></table></figure>

<p>在进行表连接时，判断是一表还是多表主要是判断是否会出现多值。</p>
<p>要查询的主要信息所在表才是主表。</p>
<p>标量子查询：返回的结果是一个数据（单行单列） </p>
<p> 行子查询：返回的结果是一行(单行多列) </p>
<p>列子查询：返回的结果是一列(多行单列) </p>
<p>表子查询：返回的结果是一张临时表(多行多列)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#子查询</span><br><span class="line">select * from emp where sal&gt;avg(emp);#在where语句中不能使用聚合运算。</span><br><span class="line">select * from emp where sal&gt;(select avg(sal) from emp);</span><br><span class="line">#找出列表中与allen相同上司的员工号等。（标量子查询）</span><br><span class="line">select empid,ename,job,mgr from emp where mgr = (select mgr from emp where ename=&#x27;allen&#x27;);</span><br><span class="line">#找出和smith同职位同上司的id，姓名，职位。（行子查询）</span><br><span class="line">select empid,ename,job,deptno from emp where deptno = (select deptno from emp where ename =&#x27;smith&#x27;) and job=(select job from emp where ename =&#x27;smith&#x27;)and ename&lt;&gt; &#x27;smith&#x27;;</span><br><span class="line">select empid,ename,job,deptno from emp where (deptno,job)=(select deptno,job from emp where ename=&#x27;smith&#x27;) and ename&lt;&gt;&#x27;smith&#x27;;</span><br></pre></td></tr></table></figure>

<p>列子查询</p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211103153251416.png" alt="image-20211103153251416"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#查询普通员工的工资等级</span><br><span class="line">select empno,ename,sal,level from emp left join saltable on sal between lowsal and highsal where empno not in (select distinct mgr from emp where mgr is not null);</span><br><span class="line">#查询部门数大于5的所有员工</span><br><span class="line">select empno,ename,deptno from emp where deptno in (select deptno from emp group by deptno having count(empno)&gt;=5);</span><br><span class="line">#找出列表中大于30部门中任意一个员工的工资的员工信息。</span><br><span class="line">select * from emp where sal&gt;any (select sal from emp where deptno =30) and deptno &lt;&gt;30;</span><br><span class="line">select * from emp where sal&gt;(select min(sal) from emp where deptno =30) and deptno &lt;&gt;30;</span><br><span class="line">#找出列表中大于30部门中所有员工的工资的员工信息。</span><br><span class="line">select * from emp where sal&gt;all (select sal from emp where deptno =30) and deptno &lt;&gt;30;</span><br><span class="line">select * from emp where sal&gt; (select max(sal) from emp where deptno =30) and deptno &lt;&gt;30;</span><br><span class="line">#查询各个部门的最高工资的员工</span><br><span class="line">select ename from emp left join (select deptno,max(sal) msal from emp group by deptno) t on emp.deptno=t.deptno where sal=msal;</span><br></pre></td></tr></table></figure>

<h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#CONCAT(str1,str2,...) 把多个文本字符串合并成一个长字符串()</span><br><span class="line">select concat(&#x27;CDA&#x27;,&#x27;数据&#x27;, &#x27;分析&#x27;);</span><br><span class="line">#当concat连接的字段中有null值时，连接后的值仍然为null。</span><br><span class="line">select concat(&#x27;CDA&#x27;,null, &#x27;分析&#x27;);</span><br><span class="line">#INSTR(str,substr)返回子字符串substr在文本字符串str中第一次出现的位置()</span><br><span class="line">select instr(&#x27;CDA&#x27;, &#x27;A&#x27;);</span><br><span class="line">select instr(&#x27;数据分析&#x27;, &#x27;CDA&#x27;);#找不到返回0，找得到返回对应的位数，位数时从1开始的。</span><br><span class="line">#LEFT(str,len)返回字符串str的左端len个字符</span><br><span class="line">select left(&#x27;CDA数据分析&#x27;, 3);</span><br><span class="line">#RIGHT(str,len)返回字符串str的右端len个字符</span><br><span class="line">select right(&#x27;CDA数据分析&#x27;, 4);</span><br><span class="line">#MID(str,pos,len)返回字符串str的位置pos起len个字符</span><br><span class="line">select mid(&#x27;CDA数据分析&#x27;, 4, 2);</span><br><span class="line">#SUBSTRING ( expression, start, length )</span><br><span class="line">#截取字符串</span><br><span class="line">#expression：字符串、二进制字符串、文本、图像、列或包含列的表达式。请勿使用包含聚合函数的表达式。</span><br><span class="line">#start：整数或可以隐式转换为int 的表达式，指定子字符串的开始位置。</span><br><span class="line">#length：整数或可以隐式转换为 int 的表达式，指定子字符串的长度。</span><br><span class="line">select substring(&#x27;CDA数据分析&#x27;,1,3);</span><br><span class="line">#TRIM(str)返回删除了两边空格的字符串str</span><br><span class="line">select rtrim(&#x27; CDA数据分析 &#x27;);</span><br><span class="line">#REPLACE(str,from_str,to_str)用字符串to_str替换字符串str中的子串from_str并返回</span><br><span class="line">select replace(&#x27;CDA数据分析&#x27;, &#x27;CDA&#x27;, &#x27;cda&#x27;);</span><br><span class="line">#REPEAT(str,count)返回由count个字符串str连成的一个字符串</span><br><span class="line">select repeat(&#x27;CDA&#x27;, 3);</span><br><span class="line">#REVERSE(str)颠倒字符串str的字符顺序并返回</span><br><span class="line">select reverse(&#x27;CDA&#x27;);</span><br><span class="line">#UPPER(str)返回大写的字符串str，LOWER(str)返回大写的字符串str，只能转换成英文的</span><br><span class="line">select upper(&#x27;cda&#x27;);</span><br><span class="line">select lower(&#x27;CDA&#x27;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#所有姓名首字母大写</span><br><span class="line">select concat(upper(left(ename,1)),substring(ename,2)) from emp;</span><br></pre></td></tr></table></figure>

<p>数学函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#ABS(n)返回n的绝对值</span><br><span class="line">select abs(-32);</span><br><span class="line">#FLOOR(n)返回不大于n的最大整数值</span><br><span class="line">select floor(1.23);</span><br><span class="line">#CEILING(n)返回不小于n的最小整数值</span><br><span class="line">select ceiling(1.23);</span><br><span class="line">#ROUND(n,d)返回n的四舍五入值,保留d位小数(d的默认值为0)</span><br><span class="line">select round(1.58);#当不输入第二位值时，一般直接保留整数。</span><br><span class="line">#RAND(n)返回在范围0到1.0内的随机浮点值(可以使用数字n作为初始值)</span><br><span class="line">select rand();</span><br><span class="line">select rand(2);#属于种下了随机数种子，在产生随机数时，如果种子相同，产生的随机数不会改变，而没有输入n值时产生的随机数，每次输出时时完全不同的，不会重复的。</span><br></pre></td></tr></table></figure>

<p>日期函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#DATE(date)返回指定日期/时间表达式的日期部分或将文本转为日期格式</span><br><span class="line">select date(&#x27;20200101&#x27;);</span><br><span class="line">#WEEK(date)返回指定日期是一年中的第几周</span><br><span class="line">select week(&#x27;2019-01-01&#x27;);</span><br><span class="line">#MONTH(date)返回指定日期的月份</span><br><span class="line">select month(&#x27;2020-01-01&#x27;);</span><br><span class="line">#QUARTER(date)返回指定日期是一年的第几个季度</span><br><span class="line">select quarter(&#x27;2020-01-01&#x27;);</span><br><span class="line">#YEAR(date)返回指定日期的年份(范围在1000到9999)</span><br><span class="line">select year(&#x27;20-01-01&#x27;);</span><br><span class="line">#DATE_ADD(date,interval expr type)ADDDATE(date,interval expr type)DATE_SUB(date,interval expr type)SUBDATE(date,interval expr type)对日期时间进行加减运算</span><br><span class="line">select date_add(&quot;2020-01-01&quot;,interval 1 day);</span><br><span class="line">select date_sub(&quot;2020-01-01&quot;, interval 1 day);</span><br><span class="line">#DATE_FORMAT(date,format)根据format字符串格式化date值</span><br><span class="line">select date_format(&#x27;20-01-01 12:00:00&#x27;,&#x27;%Y-%m-%d&#x27;);</span><br><span class="line">#CURDATE()以&#x27;yyyy-mm-dd&#x27;或yyyymmdd格式返回当前日期值(根据返回值所处上下文是字符串或数字)</span><br><span class="line">select curdate();</span><br><span class="line">#CURTIME()以&#x27;hh:mm:ss&#x27;或hhmmss格式返回当前时间值(根据返回值所处上下文是字符串或数字)</span><br><span class="line">#NOW()以&#x27;yyyy-mm-dd hh:mm:ss&#x27;或yyyymmddhhmmss格式返回当前日期时间(根据返回值所处上下文是字符串或数字</span><br><span class="line">select now();</span><br><span class="line">#DATEDIFF(expr1,expr2)返回结束日expr1和起始日expr2之间的天数</span><br><span class="line">#UNIX_TIMESTAMP()返回一个unix时间戳(从&#x27;1970-01-01 00:00:00&#x27;开始的秒数,date默认值为当前时间)</span><br><span class="line">select unix_timestamp();</span><br><span class="line">#FROM_UNIXTIME(unix_timestamp)以&#x27;yyyy-mm-dd hh:mm:ss&#x27;或yyyymmddhhmmss格式返回时间戳的值(根据返回值所处上下文是字符串或数字)</span><br><span class="line">select from_unixtime(1577808000);</span><br></pre></td></tr></table></figure>

<p>分组合并函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#GROUP_CONCAT([distinct] str [order by str asc/desc] [separator])将group by产生的同一个分组中的值连接起来，返回一个字符串结果。示例：查询每个部门的员工姓名。分隔符默认是逗号。</span><br><span class="line">select deptno,group_concat( distinct ename order by sal desc separator&#x27;/&#x27;) from emp group by deptno;</span><br></pre></td></tr></table></figure>

<p>逻辑函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#IFNULL(expression, alt_value)判断第一个表达式是否为 NULL，如果为 NULL 则返回第二个参数的值，如果不为 NULL 则返回第一个参数的值。</span><br><span class="line">select ename,sal+ifnull(comm,0) 实发工资 from emp;</span><br><span class="line">#IF(expr1,expr2,expr3)如果expr1的值为true，则返回expr2的值，如果expr1的值为false，则返回expr3的值。</span><br><span class="line">select ename,sal,if(sal&gt;=3000,&#x27;高&#x27;,if(sal&gt;=1500,&#x27;中&#x27;,&#x27;低&#x27;)) 工资级别 from emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>开窗函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#开窗函数可以保留行数，但分组运算无法达到这种效果。聚合函数是将多条记录聚合为一条；而开窗函数是每条记录都会执行，有几条记录执行完还是几条。聚合函数也可以用于开窗函数中。</span><br><span class="line">select avg(sal) avg_sal from emp;</span><br><span class="line">select avg(sal) over() avg_Sal from emp;</span><br><span class="line">select deptno,avg(sal) from emp group by deptno;</span><br><span class="line">select *,avg(sal) over(partition by deptno) from emp;</span><br><span class="line">#各部门按入职日期计算累计工资总和</span><br><span class="line">select *,sum(sal) over(partition by deptno order by hiredate) sum_sal from emp;</span><br></pre></td></tr></table></figure>

<p>current row 边界是当前行，一般和其他范围关键字一起使用 </p>
<p>unbounded preceding 边界是分区中的第一行 </p>
<p>unbounded following 边界是分区中的最后一行 </p>
<p>expr preceding 边界是当前行减去expr的值 </p>
<p>expr following 边界是当前行加上expr的值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rows between 1 preceding and 1 following #窗口范围是当前行、前一行、后一行一共三行记录。</span><br><span class="line">rows unbounded preceding #窗口范围是当前行到分区中的最后一行。</span><br><span class="line">rows between unbounded preceding and unbounded following #窗口范围是当前分区中所有行，等同于不写</span><br></pre></td></tr></table></figure>

<p>序号函数</p>
<p>row_number() 显示分区中不重复不间断的序号 </p>
<p>dense_rank() 显示分区中重复不间断的序号 </p>
<p>rank() 显示分区中重复间断的序号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select *,row_number() over(order by hiredate) 排名 from emp;</span><br><span class="line">select *,row_number() over(partition by deptno order by sal desc) 排名1,dense_rank() over(partition by deptno order by sal desc) 排名2, rank() over(partition by deptno order by sal desc)排名3 from emp;</span><br></pre></td></tr></table></figure>

<p>row_number()是整除排序，而rank()是校园排名，并列第一但不会出现第二名，直接变成第三名，dese_rank()是有并列第一的情况下还可以产生第二名。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#2017年仅投资过cfh和ax产品的用户。</span><br><span class="line">select user_id from cmn_investment_request where year(create_id)=2017 group by user_id having group_concat(distinct invest_item order by invest_item desc)=&#x27;CFA,AX&#x27;;</span><br></pre></td></tr></table></figure>

<p>with rollup可以和group by配合使用，对分组后的聚合值求和</p>
<h2 id="powerbi篇"><a href="#powerbi篇" class="headerlink" title="powerbi篇"></a>powerbi篇</h2><p>pq页面完成数据的加工处理计算</p>
<p>数据仓库：sql关系型结构和pq关系型结构</p>
<p>二者数据结构种类不同：sql中只有数据表一种：mysql只有一种，pq的数据结构有三种。</p>
<p>产品在不同环境下产生的数据结构种类不同。</p>
<p>数据结构参考方式：不同数据结构间的参考引用方式不一样。</p>
<p>数据仓库是数据库的上层，包含数据库但是不仅仅是数据库，还存在csv，txt，excel等。</p>
<p>pq改变数据不会返还到底层数据库，但是底层数据库的数据更新可以改变上层数据</p>
<p>通过字段名识别列，故我们需要要求字段名不重复，一个字段只能有一种数据类型。</p>
<p>通过主键识别行，主键非空不重复，故在对表操作时一定要先观察主键。主键业务层面上的意义：一个表的记录的单位。其他字段都是用来修饰和扩充主键字段的，如果不能修饰扩充主键字段，那么不能存在在该表中。所有非主键字段都要围绕主键信息进行描述和扩展。</p>
<h3 id="PQ"><a href="#PQ" class="headerlink" title="PQ"></a>PQ</h3><h4 id="m函数"><a href="#m函数" class="headerlink" title="m函数"></a>m函数</h4><p>先通过新建源里面的空查询，再输入=#share可以调出所有m函数</p>
<h4 id="列表-List"><a href="#列表-List" class="headerlink" title="列表(List)"></a>列表(List)</h4><p>列表是扩在花括号中的一组数据，列表中每个数据都有属于自己的序号以便自己能够被检 索到，列表中的数据序号从0开始按照排列顺序依次整数递增，大列表内还可以嵌套子列表、 记录等。花括号除了用来括起列表内的所有数据还用来指定列表内数据的序号，通过指定数据序号可以从列表内找到并获取所需的数据值。</p>
<h4 id="记录-Record"><a href="#记录-Record" class="headerlink" title="记录(Record)"></a>记录(Record)</h4><p>记录用来定义字段和给字段赋值，一个字段由字段名以及字段内的值组成，字段名是唯一 的文本值，是字段的标识符。字段名可以不用引号引用，字段名有两种表达形式：</p>
<blockquote>
<p>不加””的表达形式、例如Order</p>
<p>加#和””的表达形式、例如#”Today’s data is:”</p>
<p> 记录中的内容写在[]括号内，[]括号同样用于在记录中取特定字段的值。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//例2：定义字以及显示记录内[Item]字段的值</span><br><span class="line">let Source = </span><br><span class="line">[ </span><br><span class="line">OrderID = 1, </span><br><span class="line">#&quot;CustomerID&quot; = 1, </span><br><span class="line">Item = &quot;Fishing rod&quot;, </span><br><span class="line">Price = 100.00 </span><br><span class="line">] </span><br><span class="line">in Source[#&quot;CustomerID&quot;] //equals 1</span><br></pre></td></tr></table></figure>

<p>#share 内置的记录</p>
<p>有””的是文本值，没有”“的代表名称。</p>
<h4 id="表-Table"><a href="#表-Table" class="headerlink" title="表(Table)"></a>表(Table)</h4><p>表是由行列数据构成的，可以使用隐式或显示方式定义字段（列）的数据类型。使用 #table建表时，可以使用列表或者记录来定义列名，并使用嵌套列表来定义表中的数据，嵌 套列表的大列表内包含所有定义单行用的子列表，而每个子列表则用来定义一行数据。花括 号{}可以用来索引查找指定行的数据。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//例1：隐式字段表</span><br><span class="line">let </span><br><span class="line">Source = #table( </span><br><span class="line">&#123;&quot;OrderID&quot;, &quot;CustomerID&quot;, &quot;Item&quot;, &quot;Price&quot;&#125;, </span><br><span class="line">&#123; </span><br><span class="line">&#123;1, 1, &quot;Fishing rod&quot;, 100.00&#125;, </span><br><span class="line">&#123;2, 1, &quot;1 lb. worms&quot;, 5.00&#125; </span><br><span class="line">&#125;) </span><br><span class="line">in Source</span><br><span class="line">//例2：显示字段表</span><br><span class="line">let </span><br><span class="line">Source = #table( </span><br><span class="line">type table [OrderID = number, CustomerID = number, Item = </span><br><span class="line">text, Price = number], </span><br><span class="line">&#123; </span><br><span class="line">&#123;1, 1, &quot;Fishing rod&quot;, 100.00&#125;, </span><br><span class="line">&#123;2, 1, &quot;1 lb. worms&quot;, 5.00&#125; </span><br><span class="line">&#125; </span><br><span class="line">) </span><br><span class="line">in Source</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//例3：建表后取表中第一行数据</span><br><span class="line">let </span><br><span class="line">Source = #table( </span><br><span class="line">type table [OrderID = number, CustomerID = number, Item = </span><br><span class="line">text, Price = number], </span><br><span class="line">&#123; </span><br><span class="line">&#123;1, 1, &quot;Fishing rod&quot;, 100.00&#125;, </span><br><span class="line">&#123;2, 1, &quot;1 lb. worms&quot;, 5.00&#125; </span><br><span class="line">&#125; </span><br><span class="line">) </span><br><span class="line">in Source&#123;1&#125;</span><br><span class="line">//提取出的是记录</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let</span><br><span class="line">    源 = [订单ID=2,销售人员ID=&quot;b&quot;,订单金额=&quot;200&quot;,销售人员表=#table(&#123;&quot;销售人员ID&quot;,&quot;销售人员姓名&quot;&#125;,&#123;&#123;&quot;b&quot;,&quot;王二&quot;&#125;&#125;)</span><br><span class="line">    ]</span><br><span class="line">in 源</span><br></pre></td></tr></table></figure>

<h4 id="爬取网页数据"><a href="#爬取网页数据" class="headerlink" title="爬取网页数据"></a>爬取网页数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(teamname as text) =&gt;</span><br><span class="line">let</span><br><span class="line">    源 = Web.Page(Web.Contents(&quot;https://china.nba.com/teams/stats/#!/&quot;&amp;teamname))&#123;0&#125;[Data]</span><br><span class="line">in</span><br><span class="line">    源</span><br></pre></td></tr></table></figure>

<p>强调一定Web.Page(Web.Contents(“网址”&amp;一般是调用的限制的名称))后面加上爬取数据中所需数据所在的位置。</p>
<h4 id="补充操作"><a href="#补充操作" class="headerlink" title="补充操作"></a>补充操作</h4><p>当我们在pp中操作时，当出现各种编号时，我们一般要将各类编号更改为文本类型，但有些时候在导入数据时，pp会自动识别，并将这类编号字段更改为整数类型，这时我们要将其更改为数字类型，主要通过在右侧应用步骤中，选择更改的类型删除，或者更改m函数，将类型改为type text。</p>
<p>在求环比时要用到时间辅助表</p>
<p>日期辅助表创建：进入pq，在pq内创建空查询，在m函数处编写= List.Dates函数，注意这里的大小写要分开，如果是小写不识别，弹出的界面第一部分是起始时间，第二个是天数，第三个是间隔。</p>
<h3 id="PP"><a href="#PP" class="headerlink" title="PP"></a>PP</h3><p>建模：多维数据模型，数学模型</p>
<h4 id="多维数据模型"><a href="#多维数据模型" class="headerlink" title="多维数据模型"></a>多维数据模型</h4><p>多维数据模型又叫多维数据集、立方体，指的是相互间通过某种联系被关联在一起的不同类别的数据集合。</p>
<p>多维数据模型：在咨询公司以及 BI工具厂商的介绍性资料中又被 称为“立方体（Cube）”，在这 些资料中常以一个立体正方形的 形式出现。多维数据集可以从多 角度用数据全面映射某种业务的 实际状况。</p>
<p>连接字段，如果在表中作为主键，那么这个表为主表，如果不是主键，就为多表，一般是一对多，一表指向多表。</p>
<p>连接方式：一对一：主键连主键（最不可能出现）；一对多：主键连非主键（正常连接方式，但是只有多表字段能当度量）；多对多：非主键连非主键（多对多能连但是不能用作汇总）。</p>
<p>多对多可以进行连接但是不能用做汇总。</p>
<h5 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h5><p>名义型：ID，姓名，血型，产品名称—–》文本型——》可以用做主键（就算是数字也是用文本型存储，例如身份证号）——》维度</p>
<p>有序型：值与值之间有顺序关系，取值不连贯。成绩，健康状况——-》文本型——–》不能当作主键使用——-》维度</p>
<p>连续型：值与值之间有顺序关系，并且取值是连续连贯的。——-》数值型——–》不能当作主键使用——》度量</p>
<p>主键ID：1.文本型2.位数相同3.不同位数代表不同意义</p>
<p>星型结构：一个表和多个表进行连接</p>
<img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211128175258429.png" alt="image-20211128175258429" style="zoom: 67%;" />

<p>筛选过程中，多表出维度，单表出度量</p>
<p>当确定为建立多表之间连接时可以之间在pp中找到第三部分，直接对表与表之间确定连接关系，*表示多表，1表示一表，双向链接一般最好改成单向连接。当没有连接想要创建连接时，只需要确定表与表之间的连接字段，进行对应的拖拽即可。</p>
<p>在使用过程中不能逆着筛选方向进行筛选，筛选方向：输入方向输出度量，输出方向拖拽度量。如果方向产生错误，无法正确汇总。当然可以解决该问题，可以选择双向筛选。</p>
<p>一般日常工作过程中存在需要跨表筛选时，我们可以使用双向箭头。</p>
<h5 id="交叉筛选器方向"><a href="#交叉筛选器方向" class="headerlink" title="交叉筛选器方向"></a>交叉筛选器方向</h5><p>双向交叉筛选：连接的两个表可以互相筛选，适用于星型架构，不适用于交叉模式。</p>
<p>一个表到另一个表的路径是多条路径时，众多路径中只有一条路径是有效连接，其他所有路径都是无效路径。这种连接模型是交叉模型。</p>
<p>单向交叉筛选： 维度表可以筛选度量表，绝大多数情况用单向交叉筛选。</p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211128205700978.png" alt="image-20211128205700978"></p>
<p>圆圈为类型2，叉和正方形都是类型1，跨表取字段均是类型2。</p>
<p>可以更改路径走向。有效和无效之间可以在属性中的“使此关系可用”选项实现改变。</p>
<p>类型2是可用的，但是实际业务场景中几乎不存在类型二，所以不需要使用类型二。他一般显示的是所出维度的表中对应关键字段的度量值，而不是该维度所对应的度量值。</p>
<p>只要进行跨表筛选都属于类型2，类型2均是不可用的。</p>
<p>层级关系：父子级关系条件：1.一个父级值下对应多个子集值。2.一个子集值只属于一个父级值。</p>
<p>跨表取字段条件：维度与连接用字段间是父子集关系时，可以实现跨表取。</p>
<p>尽量实现多表合并，尽量减少表的数量，防止跨表次数过多，造成错误，降低出错率。</p>
<h4 id="DAX"><a href="#DAX" class="headerlink" title="DAX"></a>DAX</h4><p>DAX中只需要考虑度量和计算规则即可，计算规则里面的引用是整个字段，而excel表里面引用的是计算区域。</p>
<p>DAX能做什么：1.创建汇总规则》筛选器中实现      2.可以改变列值</p>
<p>DAX的作用：为工作人员提供观测业务的窗口。》就是计算一种具体的指标值。</p>
<p>度量值是用来帮助工作人员进行分析。</p>
<h5 id="指标和指标体系"><a href="#指标和指标体系" class="headerlink" title="指标和指标体系"></a>指标和指标体系</h5><p>业务指标：能够分析当下。 </p>
<p>业务指标分类：</p>
<p>1.共通类型指标 ：（1）汇总类指标 （合计值，平均数，个数·次数，月销售额，季度销售量，年度利润，MTD:月初到当前日期，QTD：季度初期到当前日期,YTD：年初到当前日期） (2)比较类指标（基准比，均比，标准比，目标完成率，同环比，移动平均）；（1）1级指标：由数据直接汇总得到（2）2级指标：由1级指标计算得到。</p>
<p> 2.特殊指标</p>
<p>财务指标：具有滞后性，能回顾过去，也能展望未来，不能观察现在。</p>
<h5 id="常用函数-1"><a href="#常用函数-1" class="headerlink" title="常用函数"></a>常用函数</h5><hr>
<p>问题：用数据透视表求出每名销售人员手中高赢单率低风险商机金额占总商机金额的百分比 (高赢单率：赢单率=0.75 / 低风险：有无拖欠还款情况=“无”) </p>
<p>制作步骤：</p>
<ol>
<li><p>关联商机记录与商机相关企业信息表（商机相关企业信息表是一表，商机记录为多表，字段连接由一对多）</p>
</li>
<li><p>使用switch函数将赢单率中的数值描述替换为文字描述（0.15=&gt;低、0.25=&gt;低、0.5=&gt;中、 0.75=&gt;高） switch(表达式,值1,结果1,值2,结果2…其他情况结果)     计算的是列值：对行进行计算</p>
</li>
<li><p>使用related函数将商机相关企业信息表中的有无拖欠还款情况字段内容合并到商机记录表 中来 related(合并字段) </p>
</li>
<li><p>使用calculate与filter函数的嵌套函数创建高赢单率低风险商机金额加总值 </p>
<p>filter(表,筛选条件)               用于提取限制条件</p>
<p>calculate(计算规则,条件1,条件2…)      用于计算在各种条件下的汇总规则</p>
<p>高赢单低风险 = CALCULATE(sum(‘商机记录’[商机金额(M)]),FILTER(‘商机记录’,’商机记录’[winodds]=”h”),filter(‘商机记录’,’商机记录’[risk]=”无”))</p>
</li>
<li><p>用高赢单率低风险商机金额加总值/商机金额加总值求出高赢单率低风险金额百分比 </p>
</li>
<li><p>创建行标签为销售人员，值为高赢单率低风险商机金额百分比的数据透视表</p>
</li>
</ol>
<hr>
<p>当判断使用何种汇总规则时，我们要结合汇总字段和所需要求来综合分析。</p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211201164955293.png" alt="image-20211201164955293"></p>
<p>在这个标识下找到新建列，在列中编辑函数：对应的函数：calculate：多条件计算；filter：条件范围提取；switch：筛选特定值输出对应值；related提取字段转移到新表中；all：所有所选区域下的值</p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211201165838868.png" alt="image-20211201165838868"></p>
<p>未标识的是维度，求和符号是度量，计算器图标是新建度量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">全部筛选 = calculate(SUM(&#x27;商机记录&#x27;[金额（$M）]),all(&#x27;区域&#x27;[城市名]))</span><br></pre></td></tr></table></figure>

<p>all(‘区域’[城市名])这里面的all就是忽略了城市名字段，直接计算大范围的求和值。</p>
<p>all(‘区域’)这里面是忽略了所有区域，直接计算总的汇总值。</p>
<p>切片器：用来选择显示部分数据。</p>
<p>维度：汇总维度（我们所写在透视表中的行标签字段）；筛选维度（能够影响数据，就是切片器）</p>
<p>allselect（’区域‘）只能忽略汇总维度，但不能忽略筛选维度，可以更改切片器的范围以达到改变定基比的对比值所在范围。</p>
<p>平均值陷阱：平均值行数直接受到表的主键影响，如果主键存在重复值的话，在操作时行数比类别数多时，会造成平均数偏低。</p>
<p>filter(范围，条件1&amp;&amp;条件2)这是取交集  filter(范围，条件1||条件2)这是取并集</p>
<p>calculate（sum，区域in范围值）</p>
<p>calculate（sum，not 区域in范围值）</p>
<p>switch（true（），值1（当前面加上true函数时，可以使用比较函数），结果1，值2，结果2）</p>
<h5 id="dax时间函数"><a href="#dax时间函数" class="headerlink" title="dax时间函数"></a>dax时间函数</h5><p>切片器右上角的三个点可以改变切片器样式，可以换成列表值，也可以换成界限值。</p>
<p>PREVIOUSMONTH函数在指定的时间段或者时间点下返回上个月的内容。</p>
<p>dateadd函数（时间日期字段，选择值（位移量），位移的单位）返回的是当前日期的偏移量后的值，并且平移后的范围是在所选时间区域内。可以参照单值也可以参照时间段，参照时间点时，参照的范围是值范围内前点和后点分别对应位移后的范围内的值，后点如果是月份最后一天回返回平移后的月份的相应位置，这种属于特殊情况。</p>
<p>例子</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">上月销售额合计 = CALCULATE([销售额合计],DATEADD(&#x27;日期辅助表&#x27;[日期],-1,MONTH))</span><br></pre></td></tr></table></figure>

<p>totalmtd（汇总规则，调用日期范围）从月初到当前时点。</p>
<p>1.函数参照的对象时时间段还是时间点。2.函数参照的位移量是多少  3.函数返回的是时间点还是时间段下的汇总值。</p>
<p>pq中直接得到日期数据：转换数据中直接建立空查询，函数中输入=List.dates即可。但是在输出时一般是列表格式，要首先转换为表格式，如果需要可以稍微测试一下。</p>
<p>ranks（区域，排名的字段（不能使用聚合函数），asc/desc） </p>
<p>ranks函数不能把聚合函数与其他函数直接嵌套使用，先用聚合函数创建好度量值，再把度量值的名称引用到其他函数中使用正确。（）部分其他函数可以，默认是降序。</p>
<p>calculate（）可以让筛选上下文转换成行上下文。</p>
<p>在使用dateadd这类函数时，不能直接在该表下使用dateadd函数，首先要加入一个新的日期辅助表。</p>
<p><strong>使用日期辅助表来计算dateadd的规则顺序：</strong></p>
<p>1.在PQ中使用listdate函数创建连续日期列表。</p>
<p>2.将日期列表转换为表并更改字段数据类型为日期型</p>
<p>3.在关系图下连接日期辅助表与主体字段表</p>
<p>4.凡是用到日期字段的地方都使用日期辅助表下的日期才行。3</p>
<h4 id="图表决策树"><a href="#图表决策树" class="headerlink" title="图表决策树"></a>图表决策树</h4><p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211211173532044.png" alt="image-20211211173532044"></p>
<p>决策树有四种：比较，序列，描述，结构。</p>
<p>比较：仪表盘（事项完成程度），空间不同对象大小多少比较，同一对象不同时间之间进行比较。</p>
<p>序列：折线图（时间序列），漏斗图（状态迁移情况）。</p>
<p>描述：业务描述，统计描述（没有业务维度，只是进行统计描述，数据的分布规律和联系关系）。</p>
<p>结构：不同对象在对应环境下的占比关系；迁移叠加型（瀑布图）；既要看不同时间节点，同时看不同图例下（堆积图）。</p>
 <img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174433161.png" alt="image-20211212174433161"  />

<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174459647.png" alt="image-20211212174459647"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174509484.png" alt="image-20211212174509484"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174518754.png" alt="image-20211212174518754"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174528795.png" alt="image-20211212174528795"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174539124.png" alt="image-20211212174539124"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174547183.png" alt="image-20211212174547183"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174554654.png" alt="image-20211212174554654"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174605304.png" alt="image-20211212174605304"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174614534.png" alt="image-20211212174614534"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174844410.png" alt="image-20211212174844410"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174917769.png" alt="image-20211212174917769"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174927403.png" alt="image-20211212174927403"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174949869.png" alt="image-20211212174949869"></p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211212174957694.png" alt="image-20211212174957694"></p>
<h3 id="电商案例"><a href="#电商案例" class="headerlink" title="电商案例"></a>电商案例</h3><p>money=流量 * 转换率 * 客单价</p>
<p>客户价值模型<img src="C:\Users\yyh\Desktop\QQ图片20211212185348.png" alt="QQ图片20211212185348"></p>
<p>交互式可视化界面</p>
<p>1.用交互式的方式实现自助式消息获取。</p>
<p>2.用图表及数值表格的展示形式实现所见即所得。</p>
<p>3.帮助决策者发现问题，找到解决问题的正确方法，实现商业洞察。</p>
<p>在字段列表中是先按照数字进行排序，再根据字母进行排序。 </p>
<p>主题风格：在视图下选择，不同主题风格字体背景颜色等都会不同。</p>
<p>当不同量纲的变量个数，需要增加值坐标轴个数，让不同量纲个数等于值坐标轴个数。需要增加值坐标轴个数，也可以减少不同量纲的变量个数。在powerbi中可以使用组合图，柱形图和折线图的合并图表，行值和列值分别是折线图和柱形图。</p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211213213039720.png" alt="image-20211213213039720"></p>
<p>这是地图中的帮助栏，三个向下的部分是下钻（第一个是深化，显示当前父级下的子级；第二个是只显示子级内容；第三个是既显示子级内容，也显示父级内容），第一个上升的部分是上卷</p>
<p>在选取推进哪种用户投入资金促进消费：两个方向：1.基数大小 2.转化难度</p>
<h4 id="电商互联网流量分析"><a href="#电商互联网流量分析" class="headerlink" title="电商互联网流量分析"></a>电商互联网流量分析</h4><p>电商黄金公式：销售额 = 流量 * 转化率 * 客单价</p>
<p> 流量数量指标：</p>
<p>访问人数（uv）：到达店铺页面的非重复用户数</p>
<p>浏览量（pv）：店铺内浏览和查看页面的累加次数。</p>
<p>访问数：一个会话内被用户连续访问的次数。</p>
<p>新访客数：新进访客数</p>
<p>流量质量重要指标：</p>
<ol>
<li>平均访问深度：浏览量/访问次数</li>
<li>跳失率：跳出次数/访问次数</li>
<li>新访客占比：新访客数/访客数</li>
</ol>
<p> 流量转换率指标：</p>
<ol>
<li>访客数：到达店铺页面的非重复用户数</li>
<li>收藏人数：到达访客收藏页面的人数</li>
<li>加入购物车人数：代打访客中完成订单支付行为的人数</li>
<li>支付人数：到店访客完成订单支付行为的人数</li>
<li>收藏人数占比：收藏人数/访客人数</li>
<li>支付人数占比：支付人数/访客数</li>
</ol>
<p>建模下新建参数中，可以生成新的切片器，在切片器下选择显示列表，然后选择只能单项选择，继续使用switch函数进行匹配</p>
<h3 id="餐饮案例"><a href="#餐饮案例" class="headerlink" title="餐饮案例"></a>餐饮案例</h3><p>餐饮行业有两部分：快消行业和服务行业</p>
<p>由于是快消行业，要快速发现问题，并作出相应的相应，而餐饮行业的利润率较低，为了保证利润率，必须快速找到问题，并尽快做出响应。相较于大公司，必须尽快做出相应的措施，由于高成本低收益，要实时观察。</p>
<p>指标介绍</p>
<ol>
<li>销售金额：当日店铺实际收入</li>
<li>销售kpi：每家店的销售金额与多有店的总平均金额的比</li>
<li>折扣额：占消费总额的10%-20%</li>
<li>折扣率：10%-20%</li>
<li>台数：店铺总台数</li>
<li>翻台率：当日店铺每张桌子被使用的平均次数</li>
<li>单均消费：当日店铺所有缴费单的平均金额</li>
<li>座位数：店铺实际拥有的座位数量</li>
<li>上座率：当日店铺每个座位被使用的平均次数</li>
<li>人均消费：当日到店每个人的平均消费金额（销售总额/客流量）</li>
</ol>
<p>翻台率和上座率，翻台率要比上座率更大一些，如果翻台率很大，但上座率很低，说明散客较多，故桌子过大，桌椅布局不合理。更改桌椅布局。</p>
<p>pp里有个计算规则：当度量值要用到两个不同表中的度量计算得到时，要注意翻倍问题</p>
<p>例：翻台率=单数/台数=count（‘单号详细’[单号]）/average（‘店铺情况’[总台数]）最后结果会出错，在使用这种表达式时，一般会出现表连接表连接的主键是单号马，每个单号下都有一个总台数。</p>
<p>在使用仪表的时候，要设置最大值和最小值时，要在测量轴设置。</p>
<p><strong>步骤：</strong></p>
<p>  一、导入原始数据到Power Query</p>
<p>二、复制“点菜明细”表创建“单汇总金额”表</p>
<p>三、复制“单号详细”表创建“店汇总信息”表</p>
<p>三、针对各个表进行处理</p>
<p>“单汇总金额”表：</p>
<ol>
<li><p>只保留单号及消费金额字段</p>
</li>
<li><p>使用“分组依据”按照单号对消费金额进行汇总（对重复单号进行排重处理）</p>
</li>
</ol>
<p>“单号详细”表：</p>
<ol>
<li><p>使用“单号”字段横向合并单汇总金额表</p>
</li>
<li><p>将“单汇总金额”表中的“单汇总金额”字段展开（为“单号详细”表添加金额信息）</p>
</li>
<li><p>添加“折扣额”字段(折扣额 = 单汇总金额 * 会员折扣)</p>
</li>
<li><p>更改“付费时间”字段为小时：分：秒格式的时间格式字段</p>
</li>
</ol>
<p>“店面情况”表：</p>
<ol>
<li>添加“总座位数”字段（总座位数 = 二人台数<em>2 + 三人台数</em>3 + 四人及以上台数*6）</li>
</ol>
<p>“点菜明细”表：</p>
<ol>
<li><p>用“单号”字段合并“单号详细”表</p>
</li>
<li><p>将“单号详细”表中的“店名”字段进行展开（为之后在Power Pivot里创建与店面情况表的链接时用）</p>
</li>
<li><p>将“店名”字段置为首列</p>
</li>
</ol>
<p>“店汇总信息”表：</p>
<ol>
<li><p>使用“单号”字段横向合并“单汇总金额”表</p>
</li>
<li><p>将“单汇总金额”表中的“单汇总金额”字段展开（添加金额列）</p>
</li>
<li><p>添加“折扣额”字段（折扣额 = 单汇总金额 * 会员折扣）</p>
</li>
<li><p>删除“会员折扣”、“单号”、“付费时间”以及“日期”字段</p>
</li>
<li><p>使用分组依据功能对“店名”字段进行汇总</p>
</li>
<li><p>添加“单均消费”字段（单均消费 = 店汇总金额 / 桌数）</p>
</li>
<li><p>为“单均消费”字段取整</p>
</li>
<li><p>添加“人均消费”字段（单均消费 = 店汇总金额 / 来店人数）</p>
</li>
<li><p>为“人均消费”字段取整</p>
</li>
<li><p>使用“店名”字段横向合并“店面情况”表</p>
</li>
<li><p>将“店面情况”表中的“总台数”以及“总座位数”字段展开</p>
</li>
<li><p>添加“翻台率”字段（翻台率 = 桌数 / 总台数）</p>
</li>
<li><p>为“翻台率”字段取整</p>
</li>
<li><p>添加“上座率”字段（上座率 = 来店人数 / 总座位数）</p>
</li>
<li><p>为“上座率”字段取整</p>
</li>
<li><p>将“桌数”字段改名为“单数”</p>
</li>
<li><p>添加“折扣率”字段（折扣率 = 折扣总金额 / 店汇总金额）</p>
</li>
</ol>
<h3 id="快销行业案例"><a href="#快销行业案例" class="headerlink" title="快销行业案例"></a>快销行业案例</h3><p>sku：最小的存储单位。  </p>
<p>对经销商来说：为了避免风险过大，提高销售次数，加大运营速度，加快汇款速度。</p>
<p>相关指标</p>
<p>销售指标</p>
<ol>
<li>动销次数：在一段时间内产品销售次数</li>
<li>动销天数：在一段时间内产品的销售天数</li>
<li>销售金额合计：一段时间内的销售金额</li>
<li>销售业绩环比：销售业绩好坏程度指标</li>
</ol>
<p>库存类指标</p>
<ol>
<li>期初库存金额：销售周期开始前的库存金额</li>
<li>期末库存金额：销售周期结束时的库存金额</li>
<li>库存周转率：销售周期内的销售金额/期初库存金额*100%</li>
</ol>
<p>进货类指标</p>
<ol>
<li>进货额：采购进货的金额</li>
</ol>
<p>筛选器：筛选器中有三个部分，这三个部分作用的范围不同，此视觉对象针对的对象是当前选中的视觉对象，此页上的是针对当前页面，而所有页面上的针对的是所有页面的筛选器。</p>
<p>当想要同时在两个页面内同时使用相同的切片器时，可以在视图选项卡下选择同步切片器即可。</p>
<h3 id="乘用车市场案例"><a href="#乘用车市场案例" class="headerlink" title="乘用车市场案例"></a>乘用车市场案例</h3><p>案例中要体现的重点：1.明确自己车企的情况 2.知道自己与竞争对手车企的比较情况 3.知道自己车企不同属性的车型和市场中同属性车型 的比较情况。</p>
<h3 id="销售管理分析（销售漏斗管理模型）"><a href="#销售管理分析（销售漏斗管理模型）" class="headerlink" title="销售管理分析（销售漏斗管理模型）"></a>销售管理分析（销售漏斗管理模型）</h3><p>关系型销售运营模式：需要销售人员维持关系，销售周期长，需要与客户接触，了解客户需求，提出解决方案，每一条商机都非常重要，跟进实时的进展情况。</p>
<p>非关系型销售运营模式：在企业面向客户，在网站上展出商品直接面向客户，不需要销售人员维持关系，不需要销售人员维系，只需要客户自己进行选择。</p>
<p>电商类型是非关系模式。</p>
<p>关系型销售运营模式下 的销售漏斗管理模型</p>
<p>几乎所有的关系型销售管理模型都是销售漏斗管理模型，分为售前（获得更多的商机），售中（销售人员跟进，提高商机成功率），售后（售后服务活动良好的口碑，以便获得更多的商机）。</p>
<p>CRM：客户关系管理系统</p>
<p>销售漏斗管理模型是针对售终的阶段的模型。</p>
<p>华为的销售漏斗：L2C（Leads to Cash），从销售引领开始到回款为止。</p>
<p>IBM的销售漏斗：O2C（Opptunity to Close），从商机开始到商机成交为止。</p>
<p>售中：商机还为成交，不能叫订单，还是处于商机阶段。</p>
<p>销售漏斗模型：</p>
<ol>
<li><p>先将发现潜在商业机会开始到现金回收为止的整个销售过程分为不同销售阶段。</p>
</li>
<li><p>再对每一个销售阶段进行有针对性的细致管理。</p>
</li>
<li><p>最终达到及早发现并回避潜在商机风险的目的。</p>
</li>
</ol>
<p>尽可能降低每个阶段的销售阶段的商机流失。</p>
<p>数据分析要做到提前预测不同接单商机流失的风险</p>
<p><img src="C:\Users\yyh\AppData\Roaming\Typora\typora-user-images\image-20211231171845856.png" alt="image-20211231171845856"></p>
<p> 商机的各个指标基本都可变，故我们进行分析时存在很多困难。</p>
<p>一个季度的运营周期是十三周，第一周到第五周真第一阶段，第六周到第十周是第二阶段，第十一周到第十三周是第三阶段。销售周期开始前，要把商机池里的商机分配给不同的销售人员，预计签约日是一个重要指标，要选择预期签约日在周期内的商机分配给不同的销售人员。商机的总量要足够大，观测商机推进效果，销售状态对比，要根据当周和上周状态进行对比，是否向前推进，如果没动或者倒退，那么推进过程过慢。在第二三阶段时，要判断绝对的销售阶段高低，以及转化情况（处在上升阶段的商机的风险较小，转化情况较好）。分析仪要展示的主要是每周销售阶段的变化情况，以及销售阶段的占比情况。第一阶段销售经理要看的是整体的商机的走势以及各个阶段商机的占比情况。经过第一阶段剩下的商机量，要关注商机量与目标商机成单数之间的关系，过低说明在之后的所有阶段不能再有流失，过高，可能牵扯过多销售投入。如果商机量不足，我们可以新增商机量，或者筛选绝对销售阶段低的商机更换。销售经理对于是补充还是继续维持，要进行选择，这是的判断标准是商机的成交可能性（及风险）以及销售人员的能力，补充的商机是来自商机池里的商机，一般都是劣质商机，推进时间已经不足，在这种情况下是从第六周进行补充的商机。销售例会要观测商机的具体情况，及推进水平，商机风险，绝对销售阶段。</p>
<p>经理分为：区域经理和产品经理，区域经理关注区域内的商机，产品经理关注产品销售的商机。</p>
<p>商机赢单：“销售人员根据自己销售行为的进展，根据经验可以给每个阶段一个‘赢率’，即胜算的机会值，如可以给出5%、10%、20%、30%、……、95%、100%等”计算公式=成功签约的合同数/销售人员跟进的商机数</p>
<h3 id="串讲"><a href="#串讲" class="headerlink" title="串讲"></a>串讲</h3><p>区域和表</p>
<p>区域到表是为了提高数据处理的效率。   </p>
<p>添加列中产出时间对应的年龄，在添加列选项卡下找到日期，选择年限，再在转换选项卡下选择持续时间年数，再进行舍入。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Qiyuan-yin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/01/04/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">http://example.com/2022/01/04/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Qiyuan's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/4.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2022/01/04/%E5%AD%A6%E6%9C%AF%E5%91%A8/"><img class="next-cover" src="/img/7.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">学术周学习</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/3.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Qiyuan-yin</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%88%E6%88%B4%E5%B8%88%E5%85%84%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">数据分析（戴师兄）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A7%E5%93%81%E6%8B%86%E8%A7%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">产品拆解方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#excel%E7%AF%87"><span class="toc-number">1.1.</span> <span class="toc-text">excel篇</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8E%AF%E6%AF%94%E5%92%8C%E5%90%8C%E6%AF%94"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">环比和同比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#subtotal%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.0.2.</span> <span class="toc-text">subtotal函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#if%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.0.3.</span> <span class="toc-text">if函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vlookup%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.0.4.</span> <span class="toc-text">vlookup函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%81%EF%BC%81%EF%BC%81index%E5%92%8Cmatch%E5%87%BD%E6%95%B0%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">1.1.0.5.</span> <span class="toc-text">！！！index和match函数（重点）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%A8%E6%8A%A5%E5%88%B6%E4%BD%9C"><span class="toc-number">1.1.0.6.</span> <span class="toc-text">周报制作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tableau%E7%AF%87"><span class="toc-number">1.2.</span> <span class="toc-text">Tableau篇</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99"><span class="toc-number">1.3.</span> <span class="toc-text">学习资料</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#python%E9%83%A8%E5%88%86"><span class="toc-number">1.4.</span> <span class="toc-text">python部分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">多行语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#list"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">list</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number">1.4.0.4.</span> <span class="toc-text">字典</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%EF%BC%88%E4%B8%BB%E4%BD%93%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">数据分析（主体）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#excel%E7%AF%87-1"><span class="toc-number">2.1.</span> <span class="toc-text">excel篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#excel%E5%9F%BA%E7%A1%80%E5%BA%94%E7%94%A8"><span class="toc-number">2.1.1.</span> <span class="toc-text">excel基础应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%B1%87%E6%80%BB%E5%88%86%E6%9E%90%E5%8F%8A%E4%B8%9A%E5%8A%A1%E5%88%86%E6%9E%90%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-number">2.1.2.</span> <span class="toc-text">数据汇总分析及业务分析综合案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-number">2.1.3.</span> <span class="toc-text">快捷键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E8%AE%BA"><span class="toc-number">2.1.4.</span> <span class="toc-text">分析方法论</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%B8%B8%E5%8F%96%E6%95%B0"><span class="toc-number">2.1.4.1.</span> <span class="toc-text">日常取数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E4%BA%8C"><span class="toc-number">2.1.4.2.</span> <span class="toc-text">案例二</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%95%E7%B4%AF%E6%89%98%E5%88%86%E6%9E%90%EF%BC%88%E4%BA%8C%E5%85%AB%E6%B3%95%E5%88%99%EF%BC%89"><span class="toc-number">2.1.4.3.</span> <span class="toc-text">帕累托分析（二八法则）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%8F%E8%90%A5%E5%88%86%E6%9E%90%E6%A1%88%E4%BE%8B"><span class="toc-number">2.1.4.4.</span> <span class="toc-text">经营分析案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%9A%E5%8A%A1%E5%BB%BA%E6%A8%A1%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E6%8B%93%E7%BB%B4"><span class="toc-number">2.1.5.</span> <span class="toc-text">业务建模——数据拓维</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RFM%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.1.5.1.</span> <span class="toc-text">RFM模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RFM%E7%BB%83%E4%B9%A0"><span class="toc-number">2.1.5.2.</span> <span class="toc-text">RFM练习</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E6%8A%A5%E5%91%8A"><span class="toc-number">2.1.6.</span> <span class="toc-text">分析报告</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%91%E7%8A%B6%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E8%AE%BA"><span class="toc-number">2.1.6.1.</span> <span class="toc-text">树状分析方法论</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E5%91%8A%E6%92%B0%E5%86%99"><span class="toc-number">2.1.6.2.</span> <span class="toc-text">报告撰写</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AF%87"><span class="toc-number">2.2.</span> <span class="toc-text">数据库篇</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80"><span class="toc-number">2.2.0.1.</span> <span class="toc-text">数据定义语言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.0.2.</span> <span class="toc-text">数据库基本结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">2.2.0.3.</span> <span class="toc-text">约束条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">2.2.0.4.</span> <span class="toc-text">修改数据表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.0.5.</span> <span class="toc-text">插入数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.0.6.</span> <span class="toc-text">修改数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.2.0.7.</span> <span class="toc-text">DQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.0.8.</span> <span class="toc-text">常用函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#powerbi%E7%AF%87"><span class="toc-number">2.3.</span> <span class="toc-text">powerbi篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PQ"><span class="toc-number">2.3.1.</span> <span class="toc-text">PQ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#m%E5%87%BD%E6%95%B0"><span class="toc-number">2.3.1.1.</span> <span class="toc-text">m函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8-List"><span class="toc-number">2.3.1.2.</span> <span class="toc-text">列表(List)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95-Record"><span class="toc-number">2.3.1.3.</span> <span class="toc-text">记录(Record)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8-Table"><span class="toc-number">2.3.1.4.</span> <span class="toc-text">表(Table)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E6%95%B0%E6%8D%AE"><span class="toc-number">2.3.1.5.</span> <span class="toc-text">爬取网页数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%E6%93%8D%E4%BD%9C"><span class="toc-number">2.3.1.6.</span> <span class="toc-text">补充操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PP"><span class="toc-number">2.3.2.</span> <span class="toc-text">PP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">多维数据模型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.3.2.1.1.</span> <span class="toc-text">变量类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E7%AD%9B%E9%80%89%E5%99%A8%E6%96%B9%E5%90%91"><span class="toc-number">2.3.2.1.2.</span> <span class="toc-text">交叉筛选器方向</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DAX"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">DAX</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%87%E6%A0%87%E5%92%8C%E6%8C%87%E6%A0%87%E4%BD%93%E7%B3%BB"><span class="toc-number">2.3.2.2.1.</span> <span class="toc-text">指标和指标体系</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-1"><span class="toc-number">2.3.2.2.2.</span> <span class="toc-text">常用函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dax%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="toc-number">2.3.2.2.3.</span> <span class="toc-text">dax时间函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E8%A1%A8%E5%86%B3%E7%AD%96%E6%A0%91"><span class="toc-number">2.3.2.3.</span> <span class="toc-text">图表决策树</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E5%95%86%E6%A1%88%E4%BE%8B"><span class="toc-number">2.3.3.</span> <span class="toc-text">电商案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%B5%E5%95%86%E4%BA%92%E8%81%94%E7%BD%91%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90"><span class="toc-number">2.3.3.1.</span> <span class="toc-text">电商互联网流量分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A4%90%E9%A5%AE%E6%A1%88%E4%BE%8B"><span class="toc-number">2.3.4.</span> <span class="toc-text">餐饮案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%94%80%E8%A1%8C%E4%B8%9A%E6%A1%88%E4%BE%8B"><span class="toc-number">2.3.5.</span> <span class="toc-text">快销行业案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%98%E7%94%A8%E8%BD%A6%E5%B8%82%E5%9C%BA%E6%A1%88%E4%BE%8B"><span class="toc-number">2.3.6.</span> <span class="toc-text">乘用车市场案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%80%E5%94%AE%E7%AE%A1%E7%90%86%E5%88%86%E6%9E%90%EF%BC%88%E9%94%80%E5%94%AE%E6%BC%8F%E6%96%97%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9E%8B%EF%BC%89"><span class="toc-number">2.3.7.</span> <span class="toc-text">销售管理分析（销售漏斗管理模型）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%B2%E8%AE%B2"><span class="toc-number">2.3.8.</span> <span class="toc-text">串讲</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/01/04/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" title="数据分析"><img src="/img/4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据分析"/></a><div class="content"><a class="title" href="/2022/01/04/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" title="数据分析">数据分析</a><time datetime="2022-01-04T07:39:20.429Z" title="发表于 2022-01-04 15:39:20">2022-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/04/%E5%AD%A6%E6%9C%AF%E5%91%A8/" title="学术周学习"><img src="/img/7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="学术周学习"/></a><div class="content"><a class="title" href="/2022/01/04/%E5%AD%A6%E6%9C%AF%E5%91%A8/" title="学术周学习">学术周学习</a><time datetime="2022-01-04T07:00:12.426Z" title="发表于 2022-01-04 15:00:12">2022-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/04/%E5%A4%A7%E5%88%9B2021%E7%AC%94%E8%AE%B0/" title="大创笔记"><img src="/img/10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="大创笔记"/></a><div class="content"><a class="title" href="/2022/01/04/%E5%A4%A7%E5%88%9B2021%E7%AC%94%E8%AE%B0/" title="大创笔记">大创笔记</a><time datetime="2022-01-04T07:00:12.341Z" title="发表于 2022-01-04 15:00:12">2022-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/04/SQL/" title="SQL"><img src="/img/6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SQL"/></a><div class="content"><a class="title" href="/2022/01/04/SQL/" title="SQL">SQL</a><time datetime="2022-01-04T07:00:12.277Z" title="发表于 2022-01-04 15:00:12">2022-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/04/python%E5%9F%BA%E7%A1%80/" title="python基础"><img src="/img/9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python基础"/></a><div class="content"><a class="title" href="/2022/01/04/python%E5%9F%BA%E7%A1%80/" title="python基础">python基础</a><time datetime="2022-01-04T07:00:12.268Z" title="发表于 2022-01-04 15:00:12">2022-01-04</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Qiyuan-yin</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>